<div style="padding: 0 1em 1em 1em;">
  <h1>LOG</h1>
  <div style="padding: .5em">
    <label>from: <input type="date" [(ngModel)]="fromDt"></label>
    <label style="padding-left: 1em;">to: <input type="date" [(ngModel)]="toDt"></label>
    <button style="margin-left:1em" class="btn btn-light" (click)="refresh()">refresh</button>
  </div>
  <all41-tabulator [(tabulator)]="logEntries" [extendedOptions]="logEntriesExtOptions" [tabulatorOptions]="logEntriesOptions" >
    </all41-tabulator>

  <table class="table table-striped" *ngIf="selectedLogEntry">
    <thead><tr>
      <th>field</th>
      <th>value</th>
    </tr></thead>
    <tbody>
      <tr *ngFor="let prop of keys(selectedLogEntry)" [hidden]="['metas', 'id', 'createdAt', 'updatedAt'].includes(prop)">
        <td>{{prop}}</td>
        <td>{{selectedLogEntry[prop]}}</td>
      </tr>
      <tr *ngFor="let meta of selectedLogEntry.metas" [hidden]="['message'].includes(meta.key)">
        <td>{{meta.key}}</td>
        <!-- <td *ngIf="meta.key !== 'stack'">{{meta.value}}</td> -->
        <!-- <td *ngIf="meta.key === 'stack'"><pre>{{meta.value}}</pre></td> -->
        <td><pre>{{meta.value}}</pre></td>
      </tr>
    </tbody>    
  </table>
  <!-- {{selectedLogEntry|json}} -->
</div>
